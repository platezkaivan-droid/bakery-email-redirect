<!DOCTYPE html>
<html>
<head>
  <title>–í—Ö–æ–¥ –≤ –ë—É–ª–æ—á–∫–∏ –ü–∞–≤–ª–æ–≤–∞...</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { 
      font-family: sans-serif; 
      text-align: center; 
      padding-top: 50px;
      background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
      color: white;
      min-height: 100vh;
      margin: 0;
    }
    .container {
      background: rgba(255,255,255,0.1);
      padding: 40px;
      border-radius: 20px;
      max-width: 400px;
      margin: 0 auto;
      backdrop-filter: blur(10px);
    }
    .btn { 
      background: white; 
      color: #FF6B35; 
      padding: 15px 30px; 
      text-decoration: none; 
      border-radius: 25px; 
      font-weight: bold; 
      display: inline-block; 
      margin-top: 20px;
      transition: transform 0.2s;
    }
    .btn:hover {
      transform: scale(1.05);
    }
    .loader {
      border: 5px solid rgba(255,255,255,0.3);
      border-top: 5px solid white;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üçû –ë—É–ª–æ—á–∫–∏ –ü–∞–≤–ª–æ–≤–∞</h2>
    <div class="loader"></div>
    <p>–û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ...</p>
    
    <a id="deepLinkBtn" href="#" class="btn">–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é</a>
  </div>

  <script>
    // 1. –°–æ–±–∏—Ä–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ URL
    const hash = window.location.hash; // #access_token=...
    const query = window.location.search; // ?token=...
    
    // 2. –§–æ—Ä–º–∏—Ä—É–µ–º Deep Link
    const appScheme = 'bakery-app://auth-callback';
    const finalUrl = appScheme + query + hash;
    
    console.log('Deep Link:', finalUrl);
    console.log('Query:', query);
    console.log('Hash:', hash);
    
    // 3. –ù–∞–∑–Ω–∞—á–∞–µ–º —Å—Å—ã–ª–∫—É –∫–Ω–æ–ø–∫–µ
    document.getElementById('deepLinkBtn').href = finalUrl;
    
    // 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 100–º—Å
    setTimeout(function() {
      console.log('Attempting to open:', finalUrl);
      window.location.href = finalUrl;
    }, 100);
    
    // 5. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã (–µ—Å–ª–∏ –Ω–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å)
    setTimeout(function() {
      document.querySelector('p').textContent = '–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É:';
    }, 2000);
  </script>
</body>
</html>
